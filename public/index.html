<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Espruino 卡片式编程</title>
	<link rel="icon" href="./assets/images/favicon.png" />
	<link rel="stylesheet" href="./assets/style/index.css">
	<link rel="stylesheet" href="./assets/style/blockly.css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.4/beautify.min.js"></script>
	<script src="https://unpkg.com/blockly@12.3.0/blockly_compressed.js"></script>
	<script src="https://unpkg.com/blockly@12.3.0/blocks_compressed.js"></script>
	<script src="https://unpkg.com/blockly@12.3.0/javascript_compressed.js"></script>

	<script src="https://unpkg.com/blockly@12.3.0/msg/zh-hans.js"></script>
	<script src="https://unpkg.com/monaco-editor@0.53.0/min/vs/loader.js"></script>
	<!-- <script src="https://unpkg.com/js-beautify@1.15.4/js/lib/beautifier.min.js"></script> -->

</head>

<body>
	<!-- 标题栏 -->
	<div class="title-bar">
		<h1>Espruino 卡片式编程</h1>
		<!-- 新增窗口控制容器与运行按钮 -->
		<div class="title-controls">
			<div class="window-controls">
				<button class="window-btn minimize-btn" onclick="minimizeWindow()" title="最小化">−</button>
				<button class="window-btn maximize-btn" onclick="maximizeWindow()" title="最大化">□</button>
				<button class="window-btn close-btn" onclick="closeWindow()" title="关闭">×</button>
			</div>
		</div>
	</div>

	<!-- 主容器 -->
	<div class="main-container">
		<!-- 左侧卡片编程区域 -->
		<div class="card-area" id="cardArea">
			<div class="card-toolbar">
				<button class="card-category" onclick="打开文件()">打开文件</button>
				<button class="card-category" onclick="保存文件()">保存文件</button>
			</div>

			<div class="card-workspace" id="cardWorkspace"></div>
		</div>

		<!-- 新增可拖拽的分隔条 -->
		<div class="resizer" id="resizer"></div>

		<!-- 右侧代码显示区域 -->
		<div class="code-area" id="codeArea">
			<div class="code-toolbar">
				<button class="code-tab device-close-btn hide" onclick="断开连接()" id="device-close-btn"> 断开连接</button>
				<button class="code-tab" onclick="运行代码()">▶ 运行代码</button>
				<button class="code-tab" onclick="写入设备()">⇩ 写入设备</button>
				<button class="code-tab device-clear-btn" onclick="清除设备代码()">清除设备代码</button>
				<button class="code-tab device-reboot-btn" onclick="重启设备()">重启设备</button>
			</div>
			<div class="code-display" id="codeDisplay"></div>

			<!-- 添加垂直分隔条 -->
			<div class="vertical-resizer" id="verticalResizer"></div>

			<!-- 添加控制台区域 -->
			<div class="console-area" id="consoleArea">
				<div class="console-header">
					<span>控制台输出</span>
					<button onclick="清除日志()">清空</button>
				</div>
				<div class="console-content" id="consoleContent">
				</div>
			</div>
		</div>
	</div>

	<!-- 状态栏 -->
	<div class="status-bar">
		<div class="status-item" id="status">就绪</div>
		<!-- <div class="status-item">代码行数: <span id="lineCount">3</span></div> -->
		<div class="status-item">语言: JavaScript</div>
	</div>
	<script src="./assets/script/resizer.js"></script>
	<script src="./assets/script/block/zh-cn.js"></script>
	<script src="./assets/script/block/espruino_old.js"></script>
	<script src="./assets/script/block/espruino.js"></script>
	<script src="./assets/script/block/wifi.js"></script>
	<script src="./assets/script/block/web.js"></script>
	<script src="./assets/script/block/mqtt.js"></script>
	<script src="./assets/script/device.js"></script>
	<script src="./assets/script/file.js"></script>
	<script src="./assets/script/index.js"></script>
	<script src="./assets/script/blockly.js"></script>
	<script src="./assets/script/vscode.js"></script>
</body>

</html>